:root{--bg:#0f1724;--card:#111827;--muted:#9ca3af;--accent:#60a5fa;--accent-2:#cf8fcb}
*{box-sizing:border-box}
html,body{}

.container{margin:10px auto;padding:10px}
.top{display:flex;gap:20px;align-items:flex-start;flex-wrap:wrap;justify-content:center}
.top h1{margin:0 0 8px 0;font-size:28px}
.balances{display:flex;gap:12px;align-items:stretch;flex-wrap:wrap;justify-content:center}
.balances label{background:rgba(255,255,255,0.03);padding:12px;border-radius:8px;font-size:14px;flex:0 1 auto;min-width:140px;display:flex;flex-direction:column;align-items:flex-start;gap:6px;white-space:nowrap}
.balances input{padding:8px;border-radius:6px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit;width:100%;min-width:100px}
.available-top{width:100%;padding:14px;border-radius:10px;margin-bottom:10px}
.available-top .big{font-weight:800;font-size:22px;margin:0;color:#eaffea;text-align:center}
.available-top .big #available{color:#08360f;background:#e6ffea;padding:6px 10px;border-radius:8px;margin-left:8px;font-weight:900}

.available-amount{display:flex;flex-direction:column;align-items:center;gap:4px}
.available-amount #available{font-weight:800;font-size:32px;color:#ffef99;line-height:1;background:none;padding:5px;margin:0}
.available-label{font-size:14px;color:var(--muted);opacity:0;transition:opacity 0.2s}
.available-amount:hover .available-label{opacity:1}

.available-meta{display:flex;flex-direction:column;align-items:center}
.available-meta .meta{opacity:0.9}
.meta-button {
  background: none;
  border: none;
  color: var(--muted);
  text-decoration: none;
  cursor: pointer;
  padding: 0;
  font-size: 13px;
  margin-top: 4px;
}
.meta-button:hover {
  text-decoration: underline;
}

.section-total{font-size:large;color:var(--muted);margin-left:8px}
.controls{display:flex;gap:20px;margin-top:18px;align-items:flex-start}
#addItemForm{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
#addItemForm input,#addItemForm select{padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}
#addItemForm button{padding:8px 12px;border-radius:8px;border:none;background:var(--accent);color:#04263b;cursor:pointer}
.gist-controls{display:flex;flex-direction:column;gap:8px;min-width:320px}
.gist-controls input{padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}
.gist-buttons{display:flex;gap:8px}
.gist-buttons button{padding:8px;border-radius:8px;border:none;background:var(--accent-2);color:#fff;cursor:pointer}
.status{font-size:13px;color:var(--muted)}
.lists{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-top:5px}
.list{background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;min-height:140px}
.list h2{margin:0 0 8px 0;display:flex;align-items:center;justify-content:space-between}
.list h2 .addItemSectionBtn{background:transparent;border:2px solid rgba(255,255,255,0.04);color:var(--accent);padding:4px 8px;border-radius:8px;cursor:pointer;font-size:larger}

.item{
  display:grid;
  grid-template-columns: 1fr auto;
  grid-template-rows: auto auto;
  gap:6px 8px;
  padding:10px;
  border-radius:8px;
  background:rgba(255,255,255,0.01);
  align-items:start;
  margin-bottom:8px;
}

.item .item-info {
  grid-column: 1 / 3;
  grid-row: 1;
  min-width: 0;
  display: grid;
  flex-direction: column;
  gap: 2px;
}

.item .item-name {
  font-weight: 500;
  font-size: x-large;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  grid-column: 1;
  grid-row: 1;
  border: 2px solid rgba(255,255,255,0.04);
  border-radius: 10px;
}

.item .item-amount {
  font-size: 18px;
  font-weight: 700;
  white-space: nowrap;
  grid-column: 2;
  grid-row: 1;
  justify-self: end;
  padding: 5px;
  border: 2px solid rgba(255,255,255,0.04);
  border-radius: 10px;
}

.item .item-budget {
  font-size: 13px;
  color: var(--muted);
  opacity: 0.8;
  grid-column: 2;
  grid-row: 2;
  justify-self: end;
  margin-right: 10px;
}

.item .item-actions {
  grid-column: 2;
  grid-row: 3;
  display: flex;
  gap: 4px;
  white-space: nowrap;
  justify-self: end;
}

.last-action {
  font-size: 12px;
  color: var(--muted);
  padding: 4px 0;
}

.item .item-meta-row {
  grid-column: 1;
  grid-row: 2;
  justify-self: start;
}

.item .meta{color:var(--muted);font-size:13px}
.item button{background:transparent;border:none;color:var(--muted);cursor:pointer;font-size:12px;padding:2px 2px;white-space:nowrap}
.item .addSpendBtn{font-weight:900;font-size: inherit;border: 2px solid rgba(255,255,255,0.04);background: #25282f;color: #989898;border-radius: 10px;padding: 5px 8px;}
.item .editBtn{font-weight:900;font-size: inherit;border: 1px solid var(--border-color);background: var(--surface-color);color: var(--accent);;border-radius: 10px;padding: 5px 8px;}
.item .delBtn{color:#ff8b8b}

.modal-overlay{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;z-index:9999}
.modal{background:var(--card);padding:16px;border-radius:10px;min-width:280px;max-width:420px;color:inherit;box-shadow:0 8px 40px rgba(2,6,23,0.7)}
.modal h3{margin:0 0 8px 0;font-size:x-large}
.modal label{display:block;margin-bottom:8px;font-size:larger}
.modal input[type="text"],.modal input[type="number"],.modal input[type="date"],.modal select{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit;font-size:large}
.modal .actions{display:flex;justify-content:flex-end;gap:8px;margin-top:10px}
.modal .actions button{padding:8px 10px;border-radius:8px;border:none;cursor:pointer}


.modal .actions button#_item_ok, .modal .actions button#_spend_ok{background:var(--accent);color:#04263b}
.modal .actions button#_item_cancel, .modal .actions button#_spend_cancel{background:transparent;color:var(--muted)}
@media (max-width:880px){
	.lists{grid-template-columns:1fr}
	.top{display:flex;flex-direction:column}
	.available-top{order:1;width:100%;margin-bottom:10px}
	.balances{order:2;width:100%;flex-direction:column;justify-content:flex-start}
	.balances label{width:100%;flex-basis:auto;margin-bottom:8px;white-space:normal}
	.balances input{width:100%;margin-left:0}
	.controls{flex-direction:column}
	.available-top{background:none;box-shadow:none}
	
}

.top .last-updated {
    font-size: 13px;
    color: var(--muted);
    padding: 0px 50px;
    text-align: center;
}

.asset { color: #b4ffb4; }
.liability { color: #ffb4b4; }
.positive-amount { color: #b4ffb4; }

body {
    --background-color: #1e2129;
    --primary-text-color: #e5e9f0;
    --secondary-text-color: #d8dee9;
    --accent-color: #88c0d0;
    --accent-color-hover: #8fbcbb;
    --surface-color: #3b4252;
    --border-color: #434c5e;
    --box-shadow-color: rgba(0, 0, 0, 0.18);
    --visited-link-color: #b48ead;

    --font-family-main: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    --line-height-normal: 1.6;
    --font-size-small: 0.85rem;
    --font-size-medium: 0.95rem;
    --font-size-large: 1.25rem;

    --spacing-small: 4px;
    --spacing-medium: 8px;
    --spacing-large: 12px;
    --spacing-xlarge: 3px;
    --spacing-xxlarge: 5px;

    --border-radius-small: 8px;
    --border-radius-medium: 12px;
    --header-height: calc(64px + var(--spacing-xlarge));

    color-scheme: dark light;
    font-family: var(--font-family-main);
    line-height: var(--line-height-normal);
    margin: 0;
    padding-top: var(--spacing-medium);
    padding-left: var(--spacing-xlarge);
    padding-right: var(--spacing-xlarge);
    padding-bottom: calc(env(safe-area-inset-bottom) + var(--header-height) + var(--spacing-xxlarge));
    background-color: var(--background-color);
    color: var(--primary-text-color);
    -webkit-overflow-scrolling: touch;
    position: relative;
    min-height: 100vh;
}

@media (prefers-color-scheme: light) {
  body {
    --background-color: #f7f7f8;
    --primary-text-color: #1c1f24;
    --secondary-text-color: #3c434d;
    --accent-color: #2a7ea2;
    --accent-color-hover: #2b6f8c;
    --surface-color: #ffffff;
    --border-color: #e3e5e8;
    --box-shadow-color: rgba(0,0,0,0.06);
    --visited-link-color: #6c3fa4;
  }
}

.footer-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: calc(env(safe-area-inset-left) + var(--spacing-xlarge));
    padding-right: calc(env(safe-area-inset-right) + var(--spacing-xlarge));
    padding-top: var(--spacing-medium);
    -webkit-user-select: none;
    user-select: none;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 999;
    background-color: color-mix(in oklab, var(--background-color) 70%, transparent);
    backdrop-filter: saturate(140%) blur(10px);
    border-top: 1px solid var(--border-color);
}

.footer-left {
    display: flex;
    flex-direction: column;
}

.footer-bar .last-updated {
    margin-top: 2px;
}

.footer-right {
    display: flex;
    align-items: center;
}

.icon-btn {
    appearance: none;
    border: 2px solid rgba(255,255,255,0.04);
    background: #25282f;
    color: #989898;
    font-weight: 900;
    border-radius: 10px;
    padding: 8px 12px;
    margin: 2px;
    line-height: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.12s ease, background-color 0.12s ease, border-color 0.12s ease;
    cursor: pointer;
}
.icon-btn:hover {
    background: color-mix(in oklab, var(--surface-color), var(--accent-color) 8%);
    border-color: color-mix(in oklab, var(--border-color), var(--accent-color) 35%);
}
.icon-btn:active {
    transform: translateY(1px) scale(0.98);
}
.icon-btn:focus-visible {
    outline: 2px solid color-mix(in oklab, var(--accent-color), white 20%);
    outline-offset: 2px;
}
.icon-btn.active {
    color: gold;
}

/* Coin Animation Styles */

















